{% extends "base.html" %}

{% block content %} 
    <section>
        <header class="inner-header"></header>
        <main id="table-area">
            <table>
                <tr>
                    <th>Merchant</th>
                </tr>
                {% for merchant in merchants %}
                <tr>
                    <td>
                    {{ merchant.name }}
                    </td>
                    <td>
                        <a href="/merchants/{{ merchant.id }}/edit" class="edit">
                            <i class="far fa-edit"></i>
                        </a>
                    </td>
                    
                        {% if merchant.in_use == False %}
                        <td>
                        <form action="/merchants/{{ merchant.id }}/delete" method="POST">
                            <button class="delete-button">
                                <i class="fas fa-minus-circle delete"></i>
                            </button>
                        </form>
                        </td>
                        {% endif %}
                        {% if merchant.in_use %}
                        <td class="tooltip">
                            <i class="fas fa-minus-circle grey"></i>
                            <span class="tooltip-text">This merchant is in use in a transaction</span>
                        </td>  
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
                
            </table>
            <a href="/merchants/new" class="new">
                <i class="fas fa-plus-circle"></i>
            </a> 
        </main>
    </section>

{% endblock %} 
